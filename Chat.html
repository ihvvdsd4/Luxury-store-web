<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±ÙƒØ² Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0a0a0a; --gold: #d4af37; --card: #161616; }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg); font-family: 'Cairo', sans-serif; display: flex; justify-content: center; }
        .chat-wrapper { width: 100%; height: 100vh; max-width: 500px; background: var(--card); display: flex; flex-direction: column; }
        .header { padding: 20px; background: #1f1f1f; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--gold); }
        .messages-area { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .msg { padding: 12px 18px; border-radius: 15px; max-width: 80%; font-size: 0.95rem; }
        .sent { background: var(--gold); color: black; align-self: flex-end; }
        .received { background: #262626; color: white; align-self: flex-start; }
        .msg img { max-width: 100%; border-radius: 10px; }
        .input-bar { padding: 20px; background: #1f1f1f; display: flex; gap: 10px; align-items: center; }
        input[type="text"] { flex: 1; background: #000; border: 1px solid #333; color: white; padding: 12px; border-radius: 10px; outline: none; }
        .btn { background: none; border: none; color: var(--gold); font-size: 1.5rem; cursor: pointer; }
        /* Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Øª tawk.to Ø§Ù„Ø£ØµÙ„ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹ Ù„ÙŠØ¹Ù…Ù„ ÙƒÙˆØ¯Ùƒ Ø£Ù†Øª */
        #tawkchat-container { display: none !important; }
    </style>
</head>
<body>

<div class="chat-wrapper">
    <div class="header">
        <span id="statusText" style="color: var(--gold); font-weight: bold;">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...</span>
    </div>

    <div class="messages-area" id="msgBox">
        <div class="msg received">Ù…Ø±Ø­Ø¨Ø§Ù‹! Ù†Ø­Ù† Ù…ØªØµÙ„ÙˆÙ† Ø§Ù„Ø¢Ù†ØŒ ÙƒÙŠÙ Ù†Ø®Ø¯Ù…ÙƒØŸ</div>
    </div>

    <div class="input-bar">
        <input type="file" id="imgInp" accept="image/*" style="display:none" onchange="upImg()">
        <button class="btn" onclick="document.getElementById('imgInp').click()">ğŸ“·</button>
        <input type="text" id="userInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." onkeypress="if(event.key==='Enter')sendToTawk()">
        <button class="btn" onclick="sendToTawk()">âœ¦</button>
    </div>
</div>

<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/695f8f21a48912197b0da0f9/1jeeke7ov';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();

// Ø¹Ù†Ø¯ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ø´Ø§Øª
Tawk_API.onLoad = function(){
    document.getElementById('statusText').innerText = "Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù† âœ…";
};

// Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
Tawk_API.onChatMessageAgent = function(message){
    addMsg(message, 'received');
};

function sendToTawk() {
    const inp = document.getElementById('userInput');
    const text = inp.value.trim();
    if(text !== "") {
        addMsg(text, 'sent');
        // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù€ Tawk.to
        try {
            Tawk_API.sendMessage(text);
        } catch (e) {
            console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±");
        }
        inp.value = "";
    }
}

function upImg() {
    const file = document.getElementById('imgInp').files[0];
    if(file) {
        const reader = new FileReader();
        reader.onload = (e) => {
            addMsg(`<img src="${e.target.result}">`, 'sent', true);
            // Ù…Ù„Ø§Ø­Ø¸Ø©: ØµÙˆØ± Tawk.to API ØªØªØ·Ù„Ø¨ Ø±ÙØ¹Ø§Ù‹ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù„Ù„Ø³ÙŠØ±ÙØ±ØŒ Ø³Ù†ÙƒØªÙÙŠ Ø¨Ø¹Ø±Ø¶Ù‡Ø§ Ù‡Ù†Ø§
        };
        reader.readAsDataURL(file);
    }
}

function addMsg(content, side, isHtml = false) {
    const d = document.createElement('div');
    d.className = 'msg ' + side;
    if(isHtml) d.innerHTML = content; else d.innerText = content;
    const box = document.getElementById('msgBox');
    box.appendChild(d);
    box.scrollTop = box.scrollHeight;
}
</script>

</body>
</html>
